<p-toast></p-toast>

<div class="admin-page">
    <p-card header="All Customers" subheader="List of customers available">
  <div class="p-grid">
            <div class="p-col-12">
                <p-toolbar>
                    <div class="p-toolbar-group-left">
                        <p-button routerLink="/customers-form-add"   label="New" icon="pi pi-plus" styleClass="p-button-success"></p-button>
                    </div>
                </p-toolbar>
            </div>
        </div>
        <div class="p-grid">
           
            <div class="p-col-12">

                <p-table [paginator]="true" [rows]="5" [value]="customerListData" responsiveLayout="scroll">
                    <ng-template pTemplate="header">
                        <tr>
                            <!-- <th pSortableColumn="code">ID <p-sortIcon field="code"></p-sortIcon></th> -->
                            <th pSortableColumn="code">CustomerName <p-sortIcon field="code"></p-sortIcon></th>
                            <th pSortableColumn="code">CustomerEmail <p-sortIcon field="code"></p-sortIcon></th>
                            <th pSortableColumn="code">Mobile Number <p-sortIcon field="code"></p-sortIcon></th>
                            <th pSortableColumn="code">Customer address <p-sortIcon field="code"></p-sortIcon></th>
                            <th pSortableColumn="code">Date <p-sortIcon field="code"></p-sortIcon></th>
                           
                            <th>Actions</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-customers>
                        <tr>
                           
                           <!-- <td>{{customers.id}}</td> -->
                           <td>{{customers.data.customerName}}</td>
                           <td>{{customers.data.customerEmail}}</td>
                           <td>{{customers.data.customerNumber}}</td>
                           <td>{{customers.data.customerAddress}}</td>
                           <td>{{customers.data.customerDate.toMillis() | date}}</td>
                           
                           <td>
                               <p-button (onClick)="onDeleteCustomers(customers.id)" styleClass="p-button-danger mr-1"icon="pi pi-trash"></p-button>
                               <p-button styleClass="p-button-error" routerLink="/customers-form-add" [queryParams]="{id:customers.id}" icon="pi pi-pencil"></p-button>
                           </td>
                        </tr>
                        
                    </ng-template>
                </p-table>
                <p-progressSpinner [style]="{width: '50px', height: '50px'}" styleClass="custom-spinner" strokeWidth="8" fill="var(--surface-ground)" animationDuration=".4s" *ngIf="showSpinner"></p-progressSpinner>
            </div>

        </div>
    </p-card>
   
</div>

<p-confirmDialog [style]="{width: '50vw'}" [baseZIndex]="10000" rejectButtonStyleClass="p-button-text"></p-confirmDialog>